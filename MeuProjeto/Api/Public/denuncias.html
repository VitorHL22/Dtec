<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>EcoDen√∫ncia - Descarte Inadequado de Res√≠duos</title>
    <link rel="stylesheet" href="denucias.css" />
    <link rel="shortcut icon" href="../LogoEIcon/favicon.ico">
    <link href="https://fonts.googleapis.com/css2?family=Public+Sans:wght@400;500;700;900&display=swap"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
</head>

<body>
    <header>
        <div class="logo">
            <img src="../LogoEIcon/logorecicle.png" alt="Logo Denuncicle">
        </div>

        <nav class="menu">
            <a href="#In√≠cio">In√≠cio</a>
            <a href="sobre.html">Sobre N√≥s</a>
            <a href="descarte.html">Descarte</a>
            <a href="texte.html">Pontos De Coleta</a>
        </nav>
    </header>

    <main>
        <section class="intro">
            <h2>Denuncie o Descarte Inadequado de Res√≠duos</h2>
            <p>Ajude a manter nossa cidade limpa. Sua den√∫ncia √© an√¥nima e fundamental.</p>
        </section>

        <!-- üü¢ Formul√°rio corrigido -->
        <form class="form-denuncia" enctype="multipart/form-data">
            <div class="form-grid">
                <label>
                    <p>Localiza√ß√£o do Incidente</p>
                    <div class="input-icon">
                        <span class="material-symbols-outlined">location_on</span>
                        <input type="text" name="local" placeholder="Digite o endere√ßo ou use a localiza√ß√£o atual" />
                    </div>
                </label>

                <label>
                    <p>Tipo de Res√≠duo</p>
                    <div class="input-icon">
                        <span class="material-symbols-outlined">compost</span>
                        <select name="tipo">
                            <option value="">Selecione o tipo de res√≠duo</option>
                            <option value="domestico">Lixo Dom√©stico</option>
                            <option value="construcao">Entulho de Constru√ß√£o</option>
                            <option value="industrial">Res√≠duos Industriais</option>
                            <option value="outros">Outros</option>
                        </select>
                    </div>
                </label>
            </div>

            <label class="descricao">
                <p>Descri√ß√£o Detalhada</p>
                <textarea name="descricao"
                    placeholder="Descreva o incidente com o m√°ximo de detalhes poss√≠vel"></textarea>
            </label>

            <div class="upload">
                <p>Anexar Fotos</p>
                <div class="upload-box">
                    <span class="material-symbols-outlined">cloud_upload</span>
                    <p>Arraste e solte as imagens aqui ou</p>
                    <label for="file-upload">clique para selecionar</label>
                    <input type="file" id="file-upload" name="imagens" multiple accept="image/*" />
                    <p class="info">PNG, JPG, GIF at√© 10MB</p>
                </div>
            </div>

            <div class="submit">
                <button type="submit">
                    <span class="material-symbols-outlined">send</span>
                    Enviar Den√∫ncia
                </button>
            </div>
        </form>
    </main>

    <!-- üü¢ Script de envio -->
    <script>
        document.querySelector(".form-denuncia").addEventListener("submit", async (e) => {
            e.preventDefault();

            const formData = new FormData(e.target);

            const response = await fetch("http://localhost:3001/denuncias", {
                method: "POST",
                body: formData
            });

            if (response.ok) {
                alert("‚úÖ Den√∫ncia enviada com sucesso!");
                e.target.reset();
            } else {
                alert("‚ùå Erro ao enviar den√∫ncia!");
            }
        });
    </script>

</body>

</html>